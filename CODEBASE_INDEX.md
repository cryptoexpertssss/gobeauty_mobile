# GoBeauty Mobile App - Codebase Index

## Project Overview

**GoBeauty** is a React Native mobile application built with Expo Router, designed for beauty service booking. The app provides beauty service booking functionality with features for both clients and administrators.

**Key Technologies:**
- React Native 0.81.5
- Expo SDK 54.0.20
- Expo Router (file-based routing)
- TypeScript
- NativeWind (Tailwind CSS for React Native)
- React Query for state management
- Zustand for global state
- AsyncStorage for local persistence

## Project Structure

### Root Configuration Files
- `package.json` - Dependencies and scripts
- `app.json` - Expo configuration
- `babel.config.js` - Babel configuration
- `eslint.config.js` - ESLint configuration
- `tsconfig.json` - TypeScript configuration
- `tailwind.config.js` - Tailwind CSS configuration
- `eas.json` - EAS Build configuration
- `metro.config.js` - Metro bundler configuration

### App Directory (`app/`)
File-based routing structure using Expo Router:

#### Root Layout
- `_layout.tsx` - Root layout with providers (QueryClient, Auth, Appointments)
- `+not-found.tsx` - 404 error screen
- `modal.tsx` - Modal screen component

#### Authentication
- `login.tsx` - Login screen with role selection (client/admin)

#### Admin Features
- `admin.tsx` - Admin dashboard for managing appointments

#### Booking Flow
- `booking.tsx` - Appointment booking interface

#### Tab Navigation (`(tabs)/`)
- `_layout.tsx` - Tab navigation configuration
- `index.tsx` - Home screen with professional listings
- `map.tsx` - Map view with location-based features
- `profile.tsx` - User profile and settings
- `treatments.tsx` - Treatment catalog

### Components (`components/`)
- `ErrorBoundary.tsx` - Error handling component

### Constants (`constants/`)
- `colors.ts` - Color scheme definitions
- `logo.ts` - Logo URL configuration

### Contexts (`contexts/`)
- `AuthContext.tsx` - Authentication state management
- `AppointmentsContext.tsx` - Appointment data management

### Mocks (`mocks/`)
Mock data for development:
- `appointments.ts` - Sample appointment data
- `featured.ts` - Featured promotions and trending services
- `gallery.ts` - Gallery images
- `locations.ts` - Salon locations with distance calculations
- `professionals.ts` - Professional profiles
- `reviews.ts` - Customer reviews and ratings
- `tips.ts` - Beauty tips
- `treatments.ts` - Treatment catalog

### Utils (`utils/`)
- `validation.ts` - Email and password validation functions

### Assets (`assets/`)
- `images/` - App icons, splash screens, and other static assets

### Android Configuration (`android/`)
Native Android build configuration generated by Expo prebuild

## Architecture Analysis

### Navigation Structure
The app uses Expo Router with a hybrid navigation approach:
- Stack navigation for authentication and booking flows
- Tab navigation for main app sections
- Modal screens for overlays

### State Management
- **Authentication**: Context-based with AsyncStorage persistence
- **Appointments**: Context-based with local storage
- **Server State**: React Query for API interactions (currently mocked)
- **Global State**: Zustand (limited usage)

### Data Flow
1. **Authentication**: Login → Context update → AsyncStorage persistence
2. **Appointments**: Load from storage → Context management → UI updates
3. **Booking**: Form validation → Context update → Storage persistence

### Key Components Analysis

#### Screens
- **LoginScreen**: Role-based authentication with email/password validation
- **AdminScreen**: Dashboard with appointment management and statistics
- **BookingScreen**: Multi-step booking process with date/time selection
- **ExploreScreen**: Professional discovery with search and filtering
- **MapScreen**: Location-based professional discovery
- **ProfileScreen**: User profile management and booking history
- **TreatmentsScreen**: Treatment catalog with favorites functionality

#### Contexts
- **AuthContext**: Handles user authentication state and persistence
- **AppointmentsContext**: Manages appointment CRUD operations and status updates

#### Utilities
- **Validation**: Email and password validation with error messaging
- **Mock Data**: Comprehensive mock data for development and testing

## Dependencies Analysis

### Core Dependencies
- **React Native**: 0.81.5 (latest stable)
- **Expo**: 54.0.20 (managed workflow)
- **Expo Router**: 6.0.13 (file-based routing)
- **React Query**: 5.83.0 (server state management)
- **Zustand**: 5.0.2 (global state)

### UI Libraries
- **NativeWind**: 4.1.23 (Tailwind CSS for React Native)
- **Lucide React Native**: 0.475.0 (icons)
- **Expo Vector Icons**: 15.0.3 (additional icons)

### Native Modules
- **AsyncStorage**: 2.2.0 (local storage)
- **React Native Reanimated**: 3.19.0 (animations)
- **React Native Gesture Handler**: 2.28.0 (gestures)
- **Expo Location**: 19.0.7 (location services)
- **Expo Image Picker**: 17.0.8 (image selection)

## Build Configuration

### Expo Configuration (`app.json`)
- App name: "GoBeauty"
- Bundle ID: `app.gobeauty`
- Package: `app.gobeauty`
- New Architecture: Disabled
- Plugins: expo-router, expo-font, expo-web-browser

### EAS Build (`eas.json`)
- Development profile configured
- Supports iOS and Android builds

### Recent Build Issues
From `log.build-log`, the Android build is failing due to:
- **React Native Reanimated compatibility issues**: Deprecated ShadowNode types causing C++ compilation errors
- **Error**: `'Shared' is deprecated: Use std::shared_ptr<const ShadowNode> instead`
- **Affected files**: PropsRegistry.cpp, ReanimatedMountHook.cpp, ShadowTreeCloner.cpp, ReanimatedCommitHook.cpp

## Recommendations

### Immediate Fixes Needed
1. **Update React Native Reanimated**: The current version (3.18.0) has compatibility issues with RN 0.81.5. Consider upgrading to a compatible version or downgrading RN if necessary.

2. **Enable New Architecture**: Currently disabled in `app.json`. Consider enabling for better performance.

3. **Build Scripts**: Add proper error handling and cleanup scripts.

### Architecture Improvements
1. **API Integration**: Replace mock data with real API endpoints
2. **Error Handling**: Implement comprehensive error boundaries and retry mechanisms
3. **Testing**: Add unit and integration tests
4. **Performance**: Implement code splitting and lazy loading
5. **Security**: Add proper authentication and data validation

### Code Quality
1. **Type Safety**: Add more strict TypeScript configurations
2. **Code Organization**: Consider feature-based folder structure
3. **Documentation**: Add JSDoc comments and API documentation
4. **Linting**: Expand ESLint rules for better code quality

## Development Workflow

### Local Development
```bash
bun install
bun run start-web  # Web preview
bun run start      # Native development
```

### Building
```bash
eas build --platform ios
eas build --platform android
```

### Deployment
- iOS: App Store via EAS Submit
- Android: Google Play via EAS Submit
- Web: EAS Hosting or Vercel/Netlify

## Conclusion

The GoBeauty app demonstrates a well-structured React Native application with modern tooling. The main challenges are related to dependency compatibility and build issues that need immediate attention. The architecture is solid with proper separation of concerns, but would benefit from API integration and enhanced error handling for production readiness.